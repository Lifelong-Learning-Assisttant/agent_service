# Документация по тестам

## Обзор

Тесты для агента покрывают различные сценарии использования, включая простые разговоры, работу с RAG и генерацию/оценку квизов. Тесты организованы в виде пайплайнов, которые проверяют корректность работы агента в различных сценариях.

## Структура тестов

### Тесты пайплайнов

Тесты организованы в виде пайплайнов, которые проверяют корректность работы агента в различных сценариях:

1. **`test_chitchat_pipeline.py`**: Тестирует пайплайн простого общения.
2. **`test_rag_pipeline.py`**: Тестирует пайплайн работы с RAG.
3. **`test_quiz_pipeline.py`**: Тестирует пайплайн работы с квизами.

### Сценарии тестирования

#### Простой разговор

```mermaid
graph TD
    A[Start] --> B[Planner]
    B -->|general| C[Direct Answer]
    C --> D[End]
```

#### Работа с RAG

```mermaid
graph TD
    A[Start] --> B[Planner]
    B -->|rag_answer| C[Retrieve]
    C --> D[RAG Answer]
    D --> E[End]
```

#### Генерация и оценка квиза

```mermaid
graph TD
    A[Start] --> B[Planner]
    B -->|generate_quiz| C[Retrieve]
    C --> D[Create Quiz]
    D --> E[End]
    F[Start] --> G[Planner]
    G -->|evaluate_quiz| H[Evaluate Quiz]
    H --> I[End]
```

## Примеры тестов

Примеры тестов доступны в соответствующих тестовых скриптах:

- [Тест простого общения](agent_service/tests/pipeline/test_chitchat_pipeline.py)
- [Тест работы с RAG](agent_service/tests/pipeline/test_rag_pipeline.py)
- [Тест работы с квизами](agent_service/tests/pipeline/test_quiz_pipeline.py)

## Заключение

Тесты покрывают различные сценарии использования агента, включая простые разговоры, работу с RAG и генерацию/оценку квизов. Использование памяти позволяет реализовывать сложные сценарии, такие как генерация квиза и последующая оценка ответов пользователя.

Для более подробной информации об архитектуре и функциональности агента, см. [Документация по агенту](agent_documentation.md).